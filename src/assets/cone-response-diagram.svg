<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 900" width="1600" height="900" role="img" aria-labelledby="title desc">
  <title id="title">Ophthalmic Signal Processing – Cone Response Before and After Correction</title>
  <desc id="desc">Left panel shows weakened L (red) cone response compared to M (green) and S (blue). Right panel shows balanced L, M, and S responses after AI correction. Includes arrows, labels, and soft pastel background.</desc>
  <defs>
    <linearGradient id="bg" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0%" stop-color="#fde9df"/>
      <stop offset="100%" stop-color="#eef5ff"/>
    </linearGradient>
    <linearGradient id="panelL" x1="0" x2="0" y1="0" y2="1">
      <stop offset="0%" stop-color="#fff7f2"/>
      <stop offset="100%" stop-color="#fff"/>
    </linearGradient>
    <linearGradient id="panelR" x1="0" x2="0" y1="0" y2="1">
      <stop offset="0%" stop-color="#f3fbff"/>
      <stop offset="100%" stop-color="#fff"/>
    </linearGradient>
    <style>
      .title { font: 700 34px/1.2 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; fill: #0f172a; }
      .subtitle { font: 600 20px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; fill: #0f172a; }
      .label { font: 600 16px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; fill: #0f172a; }
      .small { font: 500 14px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; fill: #334155; }
      .grid { stroke: #e5e7eb; stroke-width: 1; }
      .axis { stroke: #94a3b8; stroke-width: 2; }
      .curveL { fill: none; stroke: #e74c3c; stroke-width: 4; }
      .curveM { fill: none; stroke: #22c55e; stroke-width: 4; }
      .curveS { fill: none; stroke: #3b82f6; stroke-width: 4; }
      .cone { fill: #f8fafc; stroke: #cbd5e1; stroke-width: 2; }
      .coneText { font: 700 14px ui-sans-serif, system-ui; fill: #0f172a; }
    </style>
  </defs>

  <rect x="0" y="0" width="1600" height="900" fill="url(#bg)"/>

  <!-- Title -->
  <text class="title" x="800" y="70" text-anchor="middle">Ophthalmic Signal Processing – Cone Response Before and After Correction</text>

  <!-- Panels -->
  <g id="leftPanel" transform="translate(80,120)">
    <rect x="0" y="0" rx="18" ry="18" width="680" height="640" fill="url(#panelL)" stroke="#e5e7eb"/>
    <text class="subtitle" x="24" y="40">Before Correction</text>
    <!-- Plot area -->
    <g transform="translate(60,70)">
      <rect x="0" y="0" width="560" height="420" fill="#ffffff" opacity="0.7" rx="12" ry="12"/>
      <!-- Grid -->
      <g class="grid">
        <path d="M0 420 H560 M0 315 H560 M0 210 H560 M0 105 H560 M0 0 H560"/>
        <path d="M0 0 V420 M112 0 V420 M224 0 V420 M336 0 V420 M448 0 V420 M560 0 V420"/>
      </g>
      <!-- Axes -->
      <path class="axis" d="M0 420 H560"/>
      <path class="axis" d="M0 0 V420"/>
      <!-- Curves: weak L (red) -->
      <path class="curveL" d="M0,360 C120,350 160,340 200,330 C260,315 280,310 320,300 C380,285 420,290 560,280"/>
      <path class="curveM" d="M0,330 C100,310 160,260 220,220 C300,170 380,180 460,230 C520,265 540,300 560,320"/>
      <path class="curveS" d="M0,200 C120,160 220,140 300,160 C380,180 460,260 560,300"/>
      <!-- Labels -->
      <text class="label" x="505" y="300" fill="#e74c3c">L (Red)</text>
      <text class="label" x="505" y="330" fill="#22c55e">M (Green)</text>
      <text class="label" x="505" y="360" fill="#3b82f6">S (Blue)</text>
    </g>
    <!-- Cones -->
    <g transform="translate(120,540)">
      <g>
        <polygon class="cone" points="0,60 30,0 60,60"/>
        <text class="coneText" x="30" y="85" text-anchor="middle">L</text>
      </g>
      <g transform="translate(220,0)">
        <polygon class="cone" points="0,60 30,0 60,60"/>
        <text class="coneText" x="30" y="85" text-anchor="middle">M</text>
      </g>
      <g transform="translate(440,0)">
        <polygon class="cone" points="0,60 30,0 60,60"/>
        <text class="coneText" x="30" y="85" text-anchor="middle">S</text>
      </g>
    </g>
    <text class="small" x="60" y="520">Weakened L (Red) response</text>
  </g>

  <!-- Middle arrow -->
  <g transform="translate(780,440)">
    <path d="M0 0 H80" stroke="#334155" stroke-width="6" stroke-linecap="round"/>
    <polygon points="80,0 60,-12 60,12" fill="#334155"/>
    <text class="label" x="-10" y="-16" text-anchor="end">AI correction</text>
  </g>

  <g id="rightPanel" transform="translate(840,120)">
    <rect x="0" y="0" rx="18" ry="18" width="680" height="640" fill="url(#panelR)" stroke="#e5e7eb"/>
    <text class="subtitle" x="24" y="40">After AI Correction</text>
    <!-- Plot area -->
    <g transform="translate(60,70)">
      <rect x="0" y="0" width="560" height="420" fill="#ffffff" opacity="0.7" rx="12" ry="12"/>
      <!-- Grid -->
      <g class="grid">
        <path d="M0 420 H560 M0 315 H560 M0 210 H560 M0 105 H560 M0 0 H560"/>
        <path d="M0 0 V420 M112 0 V420 M224 0 V420 M336 0 V420 M448 0 V420 M560 0 V420"/>
      </g>
      <!-- Axes -->
      <path class="axis" d="M0 420 H560"/>
      <path class="axis" d="M0 0 V420"/>
      <!-- Curves: balanced L,M,S -->
      <path class="curveL" d="M0,320 C100,260 220,220 320,220 C420,220 500,260 560,300"/>
      <path class="curveM" d="M0,330 C100,270 220,230 320,230 C420,230 500,270 560,310"/>
      <path class="curveS" d="M0,340 C100,280 220,240 320,240 C420,240 500,280 560,320"/>
      <!-- Labels -->
      <text class="label" x="460" y="215" fill="#e74c3c">L (Red)</text>
      <text class="label" x="460" y="245" fill="#22c55e">M (Green)</text>
      <text class="label" x="460" y="275" fill="#3b82f6">S (Blue)</text>
    </g>
    <!-- Cones -->
    <g transform="translate(120,540)">
      <g>
        <polygon class="cone" points="0,60 30,0 60,60"/>
        <text class="coneText" x="30" y="85" text-anchor="middle">L</text>
      </g>
      <g transform="translate(220,0)">
        <polygon class="cone" points="0,60 30,0 60,60"/>
        <text class="coneText" x="30" y="85" text-anchor="middle">M</text>
      </g>
      <g transform="translate(440,0)">
        <polygon class="cone" points="0,60 30,0 60,60"/>
        <text class="coneText" x="30" y="85" text-anchor="middle">S</text>
      </g>
    </g>
    <text class="small" x="60" y="520">Balanced L, M, and S responses</text>
  </g>
</svg>
